<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuage de Mots Clés Rétro Gaming</title>
    <!-- Google Fonts pour la police rétro -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <!-- Styles CSS -->
    <style>
        body {
            margin: 0;
            background-color: #000;
            color: #fff;
            font-family: 'Press Start 2P', cursive;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
        }

        #cloud-container {
            width: 100%;
            height: 80vh;
        }

        #hover-squares {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        .hover-square {
            width: 60px;
            height: 60px;
            background-color: #1a1a1a;
            margin: 0 10px;
            border: 2px solid #0ff;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s;
            box-sizing: border-box;
            position: relative;
        }

        .hover-square::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border: 2px solid #0ff;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .hover-square:hover {
            transform: scale(1.1);
            background-color: #333;
        }

        .hover-square:hover::before {
            opacity: 1;
        }

        text {
            font-family: 'Press Start 2P', cursive;
            fill: #0ff;
            font-size: 20px;
            cursor: default;
            user-select: none;
            transition: transform 0.3s, filter 0.3s;
        }

        line {
            stroke: rgba(0, 255, 255, 0.2);
            stroke-width: 1;
        }

        /* Effet de surbrillance */
        .highlighted {
            filter: drop-shadow(0 0 10px #fff);
        }
    </style>
</head>
<body>
    <!-- Conteneur SVG pour le nuage de mots clés -->
    <svg id="cloud-container"></svg>

    <!-- Carrés interactifs -->
    <div id="hover-squares">
        <div class="hover-square"></div>
        <div class="hover-square"></div>
        <div class="hover-square"></div>
        <div class="hover-square"></div>
        <div class="hover-square"></div>
    </div>

    <!-- Inclusion des bibliothèques D3.js et GSAP via CDN -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <!-- Script JavaScript -->
    <script>
        // Liste des mots-clés
        const keywords = ['cloud', 'devops', 'dev front', 'dev back', 'agilité', 'craft', 'architecture', 'mobile', 'sécurité'];

        // Sélection du conteneur SVG
        const svg = d3.select("#cloud-container")
            .attr("width", window.innerWidth)
            .attr("height", window.innerHeight * 0.8)
            .style("background-color", "#000");

        // Génération d'un maillage de filaments lumineux
        const numLines = 150; // Nombre de lignes pour le maillage
        for (let i = 0; i < numLines; i++) {
            svg.append("line")
                .attr("x1", Math.random() * window.innerWidth)
                .attr("y1", Math.random() * window.innerHeight * 0.8)
                .attr("x2", Math.random() * window.innerWidth)
                .attr("y2", Math.random() * window.innerHeight * 0.8)
                .style("stroke", "rgba(0, 255, 255, 0.1)")
                .style("stroke-width", 1)
                .style("opacity", Math.random());
        }

        // Placement des mots-clés
        const wordElements = svg.selectAll("text")
            .data(keywords)
            .enter()
            .append("text")
            .attr("x", () => Math.random() * (window.innerWidth - 100) + 50) // Marges pour éviter les bords
            .attr("y", () => Math.random() * (window.innerHeight * 0.8 - 50) + 50)
            .text(d => d)
            .style("fill", "#0ff")
            .style("font-size", "20px")
            .style("filter", "drop-shadow(0 0 5px rgba(0, 255, 255, 0.8))");

        // Connexion des mots-clés avec des lignes lumineuses
        for (let i = 0; i < keywords.length; i++) {
            for (let j = i + 1; j < keywords.length; j++) {
                svg.append("line")
                    .attr("x1", parseFloat(wordElements.nodes()[i].getAttribute("x")))
                    .attr("y1", parseFloat(wordElements.nodes()[i].getAttribute("y")))
                    .attr("x2", parseFloat(wordElements.nodes()[j].getAttribute("x")))
                    .attr("y2", parseFloat(wordElements.nodes()[j].getAttribute("y")))
                    .style("stroke", "rgba(0, 255, 255, 0.3)")
                    .style("stroke-width", 1)
                    .style("opacity", 0.2);
            }
        }

        // Fonction pour sélectionner aléatoirement un pourcentage des mots
        function getRandomWords(percent = 0.3) {
            return wordElements.filter(() => Math.random() < percent);
        }

        // Gestion des interactions avec les carrés
        const squares = document.querySelectorAll('.hover-square');

        squares.forEach(square => {
            square.addEventListener('mouseover', () => {
                // Sélection aléatoire des mots à mettre en évidence (environ 30%)
                const selectedWords = getRandomWords(0.4); // Ajusté à 40% pour une meilleure visibilité

                // Appliquer les animations avec GSAP
                selectedWords.each(function() {
                    gsap.to(this, {
                        scale: 1.3,
                        duration: 0.3,
                        ease: "power2.out",
                        onStart: () => d3.select(this).classed("highlighted", true)
                    });
                });
            });

            square.addEventListener('mouseout', () => {
                // Réinitialiser toutes les animations
                wordElements.each(function() {
                    gsap.to(this, {
                        scale: 1,
                        duration: 0.3,
                        ease: "power2.out",
                        onComplete: () => d3.select(this).classed("highlighted", false)
                    });
                });
            });
        });

        // Adaptation du SVG à la taille de la fenêtre
        window.addEventListener('resize', () => {
            const newWidth = window.innerWidth;
            const newHeight = window.innerHeight * 0.8;
            svg.attr("width", newWidth).attr("height", newHeight);

            // Repositionnement des filaments lumineux
            svg.selectAll("line")
                .attr("x1", () => Math.random() * newWidth)
                .attr("y1", () => Math.random() * newHeight)
                .attr("x2", () => Math.random() * newWidth)
                .attr("y2", () => Math.random() * newHeight);

            // Repositionnement des mots
            wordElements
                .attr("x", () => Math.random() * (newWidth - 100) + 50)
                .attr("y", () => Math.random() * (newHeight - 50) + 50);
        });
    </script>
</body>
</html>
